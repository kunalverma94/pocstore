(this.webpackJsonppoc=this.webpackJsonppoc||[]).push([[0],{144:function(e,t,a){e.exports=a(294)},149:function(e,t,a){},154:function(e,t,a){},156:function(e,t,a){},157:function(e,t,a){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},180:function(e,t){},182:function(e,t){},196:function(e,t){},198:function(e,t){},226:function(e,t){},228:function(e,t){},229:function(e,t){},235:function(e,t){},237:function(e,t){},255:function(e,t){},258:function(e,t){},274:function(e,t){},277:function(e,t){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(51),l=a.n(r);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(149);var i=a(4),s=a(9),o=a(7),m="https://jsondbpoc.herokuapp.com/data",u="https://jsondbpoc.herokuapp.com/detail",d="https://jsondbpoc.herokuapp.com/user",p="POC MOBILE SHOPPING",f="password",E="IN",v={email:"admin@admin.com",password:"admin"},h=function(){return c.a.createElement("footer",{className:"page-footer"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col l6 s12"},c.a.createElement("h5",{className:"white-text"},p),c.a.createElement("p",{className:"grey-text text-lighten-4"},"This is a Proof Of concep App of React Redux."),c.a.createElement("ul",{className:"styled-list"},c.a.createElement("li",null,"Supports Pagination ."),c.a.createElement("li",null,"Supports Search ."),c.a.createElement("li",null,"Supports Sorting ."),c.a.createElement("li",null,"Supports Session Management ."),c.a.createElement("li",null,"Supports Cart Operations ."),c.a.createElement("li",null,"Mobile/Desktop Friendly UI ."))),c.a.createElement("div",{className:"col l4 offset-l2 s12"},c.a.createElement("h5",{className:"white-text"},"Links"),c.a.createElement("ul",{className:"styled-list"},c.a.createElement("li",null,c.a.createElement("a",{className:"grey-text text-lighten-3",href:"#top"},"TOP")),c.a.createElement("li",null,c.a.createElement("a",{className:"grey-text text-lighten-3",href:"#search"},"Search")),c.a.createElement("li",null,c.a.createElement("a",{className:"grey-text text-lighten-3",href:"#search"},"Sorting")))))),c.a.createElement("div",{className:"footer-copyright"},c.a.createElement("div",{className:"container"},"\xa9 ",(new Date).toDateString(),c.a.createElement("a",{className:"grey-text text-lighten-4 right",href:"#!"},"Kunal Verma"))))},g=function(){var e=Object(i.d)((function(e){return e.session})).notification,t=e&&""!==e.type,a=Object(i.c)();return t&&setTimeout((function(){a({type:"CLOSE_NOTIFICATION"})}),4e3),t?c.a.createElement("div",{className:"notification "},c.a.createElement("div",{className:"waves-effect"},e.message?e.message+"":"something Whent Worong:")):c.a.createElement(c.a.Fragment,null)},y=a(22),N=a(23),O=a(25),b=a(24),I=function(e){return{type:"API",payload:{request:fetch("".concat(m,"?title_like=").concat(e.title,"&_sort=").concat(e.sortField,"&_order=").concat(e.sortOrder,"&_page=").concat(e.page,"&_limit=").concat(e.limit)),onSuccess:w}}},j=function(e){return function(t){t({type:"PAGE_CHANGE",payload:e}),t(I(e))}},A=function(){return function(e){var t={type:"PAGE_CHANGE",payload:{page:1,title:"",sortField:"",sortOrder:"",limit:4}};e(t),e(I(t.payload))}},w=function(e){return{type:"LOAD_DATA",payload:e}},S=function(e){return{type:"LOADING",payload:!1}},k=function(e){return{type:"ERROR",payload:e}},C=function(e){return{type:"LOAD_ITEM",payload:e}},L=function(e){return{type:"LOAD_DETAIL",payload:e}},T=(a(154),function(){return{type:"LOCAL_CART_UPDATE"}}),P=function(e){var t=e.item,a=Object(i.c)(),n=(t||{}).stock,r=Object(i.d)((function(e){return e.cart})).cartItems.filter((function(e){return e.id===t.id})).length,l=function(){r<n&&a(function(e){return function(t){t({type:"ADD_TO_CART",payload:e}),t(T())}}(t))},s=function(){r>=0&&a(function(e){return function(t){t({type:"REMOVE_FROM_CART",payload:e}),t(T())}}(t))};return c.a.createElement("div",{className:"cart-menu"},n>0?r>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"add-to-cart",onClick:function(){return l()}},c.a.createElement("i",{className:"material-icons"},"add_box")),c.a.createElement("div",{className:"cart-quantity"},r),c.a.createElement("div",{className:"remove-from-cart",onClick:function(){return s()}},c.a.createElement("i",{className:"material-icons"},"indeterminate_check_box"))):c.a.createElement("div",{className:"add-cart waves-effect",onClick:function(){return l()}},"Add To cart"):c.a.createElement("div",null,"Out Of Stock"))},_=function(e){var t,a=e.item,n=e.children,r=a.id,l=a.title,i=a.image,o=a.price,m=a.stock,u=a.rating;return c.a.createElement("div",{className:"flex-item"},c.a.createElement("div",{className:"card"},c.a.createElement(s.c,{to:{pathname:"/detail?id=".concat(r)}},c.a.createElement("div",{className:"card-image"},c.a.createElement("img",{src:i,alt:r}),c.a.createElement("span",{className:"card-title insight-rating "},c.a.createElement("i",{className:"stars material-icons filled "},"\ue838 "),c.a.createElement("span",{className:"rating"},u))),c.a.createElement("div",{className:"waves-effect"},c.a.createElement("div",{className:"card-action card-title"},c.a.createElement("div",{className:"info-title"},l)),c.a.createElement("div",{className:"card-content "},c.a.createElement("div",{className:"info-tab"},c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"Price"),c.a.createElement("div",{className:"value-price"},c.a.createElement(oe.Consumer,null,(function(e){return e.REGION[E]})),o)),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"Stock"),c.a.createElement("div",{className:"value-stock"},m)),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"Rating"),c.a.createElement("div",{className:"value"},(t=u,Array.apply(null,{length:5}).map((function(e,a){return c.a.createElement("i",{key:a,className:"stars material-icons "+(t<a+1?"filled":"empty")},"star")}))))),n)))),c.a.createElement("div",{className:"card-action"},c.a.createElement(P,{item:a}))))},D=function(e){Object(O.a)(a,e);var t=Object(b.a)(a);function a(){return Object(y.a)(this,a),t.apply(this,arguments)}return Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=window.location.href.split("id=").reverse()[0];this.props.getDetail(e)}},{key:"componentWillUnmount",value:function(){this.props.clear()}},{key:"render",value:function(){var e=this.props.detail,t=e.detail,a=e.item;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"details"},a&&t?c.a.createElement(_,{item:a},c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"ID"),c.a.createElement("div",{className:"value-stock"},t.id)),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"ram"),c.a.createElement("div",{className:"value-stock"},t.ram," GB")),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"storage"),c.a.createElement("div",{className:"value-storage"},t.storage," GB")),c.a.createElement("div",{className:"info"},c.a.createElement("div",{className:"s-badge"},"color"),c.a.createElement("div",{className:"value-stock"},t.color," ")),c.a.createElement("div",{className:"info"},c.a.createElement("div",null," Description:"),c.a.createElement("div",null,c.a.createElement("br",null),c.a.createElement("hr",null),c.a.createElement("p",null,"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt perferendis odit eveniet? Amet est id rem explicabo libero laborum sunt, similique dolor. Excepturi sed quas omnis, reprehenderit distinctio ducimus cumque.",c.a.createElement("br",null),c.a.createElement("br",null),"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nesciunt perferendis odit eveniet? Amet est id rem explicabo libero laborum sunt, similique dolor. Excepturi sed quas omnis, reprehenderit distinctio ducimus cumque.")))):c.a.createElement(c.a.Fragment,null)))}}]),a}(n.Component),x={getDetail:function(e){return function(t){t({type:"API",payload:{request:fetch("".concat(m,"?id=").concat(e)),onSuccess:C,OnError:k,loadSuccess:S}}),t({type:"API",payload:{request:fetch("".concat(u,"?id=").concat(e)),onSuccess:L,OnError:k,loadSuccess:S}})}},clear:function(){return{type:"CLEAR"}}},R=Object(i.b)((function(e){return{detail:e.detail}}),x)(D),F=(a(156),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.Consumer,null,(function(e){return e.REGION[E]})),e)}),M=function(e){var t=e.data;return c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Device"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null,"Total"))),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement("tr",{key:t,title:e.item.title},c.a.createElement("td",{style:{width:"1px"},className:"inline-link bill-device"},c.a.createElement(s.c,{to:{pathname:"/detail?id=".concat(e.item.id)}},c.a.createElement("div",null,e.item.id),c.a.createElement("img",{src:e.item.image,alt:"",className:"check-img"}),c.a.createElement("div",null,e.item.title.substr(0,20),"..."))),c.a.createElement("td",null,c.a.createElement(P,{item:e.item}),c.a.createElement("div",{className:"bill-quantity"},e.quantity)),c.a.createElement("td",null," ",F(e.item.price)," "),c.a.createElement("td",null," ",F(e.item.price*e.quantity)," "))})),c.a.createElement("tr",null,c.a.createElement("td",null),c.a.createElement("td",null),c.a.createElement("td",null,"Total Payment"),c.a.createElement("td",null,t.map((function(e){return e.quantity*e.item.price})).reduce((function(e,t){return e+t}),0)))))},G=function(){var e=Object(i.d)((function(e){return e.cart})).cartItems,t=Object(i.d)((function(e){return e.session})).isLoggedIn,a=function(){var t=e.filter((function(e,t,a){return a.findIndex((function(t){return t.id===e.id}))===t})).map((function(t,a){return{item:t,quantity:e.filter((function(e){return e.id===t.id})).length}}));return t.sort((function(e,t){return e.item.id-t.item.id})),t}(),n=t?{pathname:"/payment",state:{requiredData:a}}:{pathname:"/login",state:{redirectTo:"/checkout",message:"you must be logged in to place order .Please"}};return a.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement(M,{data:a}),c.a.createElement("div",{className:"place-order"},c.a.createElement(s.c,{to:n},c.a.createElement("button",{className:"waves-effect waves-light btn-small"},"Place Order")))):c.a.createElement("h1",null,"Cart Is empty!!")},q=(a(157),function(e){e.newPageNumber;var t=Object(i.d)((function(e){return e.appSetting})),a=t.searchCache,n=t.total,r=Object(i.c)(),l=Object(i.d)((function(e){return e.data})).list,s=a.page,o=n/a.limit;return c.a.createElement("div",{className:"pagenation"},function(){if(""==a.title){if(0===l.length)return;return c.a.createElement("ul",{className:"pagination",style:{textAlign:"center"}},c.a.createElement("li",{className:1===s?"disabled waves-effect":"waves-effect"},c.a.createElement("a",{onClick:function(){s-1<=0||function(){var e=a;e.page-=1,r(j(e))}()}},c.a.createElement("i",{className:"material-icons"},"chevron_left"))),Array.apply(null,{length:o}).map((function(e,t){return c.a.createElement("li",{key:t,onClick:function(){if(t+1!==s){var e=a;e.page=t+1,r(j(e))}},className:t+1===s?"active":""},c.a.createElement("a",null,t+1))})),c.a.createElement("li",{className:s===o?"disabled waves-effect":"waves-effect"},c.a.createElement("a",{onClick:function(){s!==o&&function(){var e=a;e.page+=1,r(j(e))}()}},c.a.createElement("i",{className:"material-icons"},"chevron_right"))))}return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"search-page"},c.a.createElement("div",{className:"end-result waves-effect"},"No More Result ",c.a.createElement("i",{className:"material-icons"},"\ue612")," "),c.a.createElement("div",{className:"exit-search waves-effect",onClick:function(){return r(A())}},"Exit Search ",c.a.createElement("i",{className:"material-icons"},"\ue879"))))}())}),U=(a(158),a(159),function(){return Object(i.d)((function(e){return e.appSetting})).loading?c.a.createElement("div",{className:"preloader-wrapper big active"},c.a.createElement("div",{className:"spinner-layer spinner-blue-only"},c.a.createElement("div",{className:"circle-clipper left"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"gap-patch"},c.a.createElement("div",{className:"circle"})),c.a.createElement("div",{className:"circle-clipper right"},c.a.createElement("div",{className:"circle"})))):c.a.createElement(c.a.Fragment,null)}),z=function(){return Array.apply(null,{length:4}).map((function(e,t){return c.a.createElement("div",{key:t,className:"loading flex-item"},c.a.createElement("div",{className:"col s12 m7"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-image"},c.a.createElement("div",{style:{background:"grey",height:300}})),c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{style:{background:"grey",height:20}})),c.a.createElement("div",{className:"card-action"},c.a.createElement("div",{style:{background:"grey",height:20}})))))}))},H=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.appSetting})).searchCache;if(0===Object(i.d)((function(e){return e.data})).list.length)return c.a.createElement(c.a.Fragment,null);var a=function(a){var n=t;n.sortOrder!==a&&(n.sortField="price",n.sortOrder=a,e(j(n)))};return c.a.createElement("div",{className:"filters"},c.a.createElement("div",{className:"waves-effect low-"+t.sortOrder,onClick:function(){return a("asc")}},"Price :Low To High"),c.a.createElement("div",{className:"waves-effect high-"+t.sortOrder,onClick:function(){return a("desc")}},"Price :High To Low"),c.a.createElement("div",{className:"waves-effect",onClick:function(){return""!==t.sortOrder&&e(A())}},"Default"))},B=function(e){Object(O.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).showItems=function(){return e.props.loading?c.a.createElement(z,null):e.props.list.length>0?e.props.list.map((function(e,t,a){return c.a.createElement(_,{key:t,item:e})})):c.a.createElement("h1",null,"No Items.")},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){this.props.list&&0===this.props.list.length&&this.props.getData(this.props.searchCache)}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(H,null),c.a.createElement("div",{id:"top",className:"flex"},this.showItems()))}}]),a}(n.Component),Y={getData:I},W=Object(i.b)((function(e){return{list:e.data.list,loading:e.appSetting.loading,searchCache:e.appSetting.searchCache}}),Y)(B),V=function(){return c.a.createElement("div",{className:"main"},c.a.createElement(W,null),c.a.createElement(q,null))},K=a(143),J=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.appSetting})).searchCache,a=Object(o.f)(),r=Object(n.useState)(t.title),l=Object(K.a)(r,2),s=l[0],m=l[1];return c.a.createElement("form",{style:{width:"100%"},onSubmit:function(t){return function(t){return t.preventDefault(),""===s.trim()?e(A()):(e(j({page:1,title:s,sortField:"id",sortOrder:"asc",limit:100})),a.push("/home")),!1}(t)}},c.a.createElement("input",{id:"search",type:"search",name:"search",className:"search-input",placeholder:"Search for products, brands and more",onInput:function(e){return m(e.target.value)},required:!0}))},$=(a(160),function(e){return{type:"LOGIN",payload:e}}),Q=function(){var e=Object(i.d)((function(e){return e.cart})).cartItems,t=Object(i.d)((function(e){return e.session})),a=t.user,r=t.isLoggedIn,l=Object(i.c)(),o=a&&a.length>0&&r,m=Object(n.useContext)(oe).theme;return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",{id:"dropdown1",className:"\r dropdown-content"},c.a.createElement("li",null,c.a.createElement("a",null,"Welcome ",a)),c.a.createElement("li",null,c.a.createElement("a",null,"History")),c.a.createElement("li",null,c.a.createElement("a",null,"Track Order")),c.a.createElement("li",{className:"divider"}),c.a.createElement("li",null,c.a.createElement("a",{onClick:function(){l((function(e){e({type:"LOGOUT"})}))}},"Log Out"))),c.a.createElement("div",{className:"z-nav"},c.a.createElement("div",{className:"z-item"},c.a.createElement(s.c,{to:"home"},c.a.createElement("div",{className:"waves-effect"},c.a.createElement("div",{className:"material-icons"},"android"),c.a.createElement("div",{className:"mh"},"POC")))),c.a.createElement("div",{className:"z-item zsearch zflex z-abs"},c.a.createElement(J,null)),c.a.createElement("div",{className:"z-item group"},o?c.a.createElement("a",{className:"dropdown-trigger",onLoad:void new Promise((function(e){var t=setInterval((function(){var e=document.querySelectorAll(".dropdown-trigger");e.length>0&&(window.M.Dropdown.init(e,{coverTrigger:!1,width:"unset"}),clearInterval(t))}),500)})),"data-target":"dropdown1"},c.a.createElement("div",{className:"zflex waves-effect"},c.a.createElement("div",{className:"material-icons"}," person_pin"),c.a.createElement("div",{className:" mh"}," ",a),c.a.createElement("div",{className:"material-icons"},"\ue5c5"))):c.a.createElement(s.c,{to:"login"},c.a.createElement("div",{className:"zflex waves-effect"},c.a.createElement("div",{className:"material-icons"}," person_pin"),c.a.createElement("div",{className:"user"},"Login"))),c.a.createElement(s.c,{to:"checkout",className:"z-cart"},c.a.createElement("div",{className:"cart-group zflex waves-effect"},c.a.createElement("div",{className:"material-icons"},"shopping_cart"),c.a.createElement("div",{className:"z-cart-length"}," ",e.length))),c.a.createElement("a",{className:" waves-effect",onClick:function(){return function(){var e=Math.floor(Math.random()*m.length);document.documentElement.style.setProperty("--pr",m[e])}()}},c.a.createElement("div",{className:"material-icons"},"settings")))))},X=a(1),Z="INFO",ee=function(e){return{type:"NOTIFICATION",payload:{type:Z,message:e}}},te=function(e){Object(O.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={email:v.email,password:v.password,nextPage:"home"},e.updateValue=function(t){var a={};a[t.target.name]=t.target.value,e.setState((function(e){return Object(X.a)(Object(X.a)({},e),a)}))},e.processLogin=function(){e.props.notificationService("Logging In.Please wait");var t=e.state,a=t.email,n=t.password;e.props.login(a,n)},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(e,t){if(this.props.location.state){var a=this.props.location.state,n=a.redirectTo,c=a.message;n&&""!==n&&(this.props.notificationService(c),this.setState(Object(X.a)(Object(X.a)({},this.state),{},{nextPage:n})))}}},{key:"render",value:function(){var e=this;return this.props.isLoggedIn?c.a.createElement(o.a,{to:this.state.nextPage}):c.a.createElement("div",{className:"row"},c.a.createElement("h1",null,c.a.createElement("div",{className:"waves-effect"},c.a.createElement("div",{className:"material-icons login-logo"},"android"),c.a.createElement("div",null,"POC"))),c.a.createElement("form",{onSubmit:function(t){return t.preventDefault()||e.processLogin()}},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{name:"email",value:this.state.email,type:"email",style:{width:"333px"},onChange:function(t){return e.updateValue(t)},className:"validate"}),c.a.createElement("label",{className:"active",htmlFor:"email"},"Email"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"input-field"},c.a.createElement("input",{name:"password",type:"password",style:{width:"333px"},onChange:function(t){return e.updateValue(t)},className:"validate",value:this.state.password}),c.a.createElement("label",{className:"active",htmlFor:"password"},"Password"))),c.a.createElement("div",{className:"row"},c.a.createElement("button",{className:"waves-effect waves-light btn-large",style:{width:"100%"},type:"submit"},"Login"))))}}]),a}(n.Component),ae={login:function(e,t){return{type:"API",payload:{request:fetch("".concat(d,"?user=").concat(e,"&password=").concat(t)),onSuccess:$}}},notificationService:ee},ne=Object(i.b)((function(e){return Object(X.a)({},e.session)}),ae)(te),ce=a(140),re=a.n(ce),le=function(e){return function(t){t({type:"PAYMENT_ERROR",payload:{success:!1,error:!0}}),t(k(e))}},ie=function(e){Object(O.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(y.a)(this,a);for(var n=arguments.length,c=new Array(n),r=0;r<n;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={isAuthised:!0,bill:null},e}return Object(N.a)(a,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.requiredData;e&&(this.props.processPaymentAction(e),this.setState((function(t){return{bill:e}})))}else this.setState((function(e){return{isAuthised:!1}}))}},{key:"componentWillUnmount",value:function(){this.props.paycomplete()}},{key:"render",value:function(){var e=c.a.createElement("h1",null,"Processing payment");return this.state.isAuthised?(this.props.payment.error?e=c.a.createElement("h1",null,"Error Processing Payment"):this.props.payment.success&&(e=c.a.createElement("div",{className:"paymant-process"},c.a.createElement("h1",null,"Order Placed Succesful."),c.a.createElement("hr",null),c.a.createElement("div",null,"Your items will be delivered in 2-3 business days. "),c.a.createElement("div",{className:"bill"},c.a.createElement("div",null,"TrackID:",this.props.payment.id),c.a.createElement(M,{data:this.state.bill})))),e):c.a.createElement(o.a,{to:"home"})}}]),a}(n.Component),se=Object(i.b)((function(e){return{payment:e.payment,session:e.session}}),{processPaymentAction:function(e){return{type:"MAKE_PAYMENT",payload:(e=e.map((function(e){return{id:e.item.id,newStock:e.item.stock-e.quantity}}))).map((function(e){return re.a.patch("".concat(m,"/").concat(e.id),{stock:e.newStock})}))}},paycomplete:function(){return{type:"PAYMENT_COMPLTE"}}})(ie),oe=c.a.createContext(),me={REGION:{IN:"\u20b9",US:"$"},theme:["#3f51b5","#9c27b0","#9C27B0","#E91E63","#2196F3","#4A148C","#222"]},ue=function(){var e=Object(i.d)((function(e){return e.appSetting})),t=Object(i.c)();return 0===e.appState&&t({type:"BOOT_LOCAL"}),c.a.createElement(oe.Provider,{value:me},c.a.createElement(s.a,null,c.a.createElement(s.b,null,c.a.createElement(Q,null),c.a.createElement(g,null),c.a.createElement("div",{className:"main-screen"},c.a.createElement(o.b,{path:"/detail?id=:id",component:R}),c.a.createElement(o.b,{path:"/detail",component:R}),c.a.createElement(o.b,{path:"/login",component:ne}),c.a.createElement(o.b,{exact:!0,path:"/checkout",component:G}),c.a.createElement(o.b,{exact:!0,path:"/payment",component:se}),c.a.createElement(o.b,{exact:!0,path:"/home",component:V}),c.a.createElement(o.b,{exact:!0,path:"/",component:V}),c.a.createElement(U,null)))),c.a.createElement(h,null))},de=a(32),pe=a(141),fe=JSON.parse(localStorage.getItem("app")||'{"appState":1,"cartItems":[]}'),Ee=function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var a=fe;a[e]=t,localStorage.setItem("app",JSON.stringify(a))},ve=function(e){if(!e||0===e.length)throw Error("No data found");return Array.isArray(e)&&1===e.length?e[0]:e},he=a(74),ge={data:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.data,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DATA":e=Object(X.a)(Object(X.a)({},e),{},{list:t.payload});break;case"REFRESH":e=Object(X.a)({},Ne.data)}return e},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.session,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITILISE_APP":e=Object(X.a)(Object(X.a)({},e),t.payload.session);break;case"LOGIN":e=Object(X.a)(Object(X.a)(Object(X.a)({},e),t.payload),{},{isLoggedIn:!0});break;case"LOGOUT":e=Object(X.a)(Object(X.a)({},e),{},{isLoggedIn:!1,user:void 0,jwt:void 0});break;case"NOTIFICATION":e=Object(X.a)(Object(X.a)({},e),{},{loading:!1,notification:t.payload});break;case"CLOSE_NOTIFICATION":e=Object(X.a)(Object(X.a)({},e),{},{notification:null})}return e},detail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.detail,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_DETAIL":e=Object(X.a)(Object(X.a)({},e),{},{detail:ve(t.payload)});break;case"LOAD_ITEM":e=Object(X.a)(Object(X.a)({},e),{},{item:ve(t.payload)});break;case"CLEAR":e=Object(X.a)(Object(X.a)({},e),{},{item:void 0,detail:void 0})}return e},appSetting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.appSetting,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITILISE_APP":e=Object(X.a)(Object(X.a)({},e),{},{appState:t.payload.appState});break;case"LOADING":e=Object(X.a)(Object(X.a)({},e),{},{loading:t.payload});break;case"PAGE_CHANGE":e=Object(X.a)(Object(X.a)({},e),{},{searchCache:t.payload})}return e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.cart,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITILISE_APP":e=Object(X.a)(Object(X.a)({},e),{},{cartItems:t.payload.cartItems});break;case"ADD_TO_CART":var a=[].concat(Object(he.a)(e.cartItems),[t.payload]);e={cartItems:a};break;case"REMOVE_FROM_CART":var n=e.cartItems.findIndex((function(e){return e.id===t.payload.id}));if(n>=0){e.cartItems.splice(n,1);var c=Object(he.a)(e.cartItems);e={cartItems:c}}break;case"CHECK_OUT":e={cartItems:[]}}return e},payment:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne.payment,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PAYMENT_SUCCESS":e=Object(X.a)(Object(X.a)({},e),t.payload);break;case"PAYMENT_COMPLTE":e={};break;case"PAYMENT_ERROR":e=Object(X.a)(Object(X.a)({},e),t.payload)}return e}},ye=a(142),Ne={data:{list:[]},detail:{},session:{user:"",jwt:"",isLoggedIn:!1,notification:{type:"",message:""}},cart:{cartItems:[]},appSetting:{appState:0,title:"POC e-Shop",loading:!1,total:20,searchCache:{page:1,title:"",sortField:"",sortOrder:"",limit:4}},payment:{id:null}},Oe=[pe.a,function(e){return function(e){return function(t){e(t)}}},function(e){return function(e){return function(t){if("API"===t.type){var a=t.payload,n=a.onSuccess,c=a.request;e({type:"LOADING",payload:!0}),setTimeout((function(){try{c.then((function(e){return e.json?e.json():e})).then((function(t){e(n(t))})).catch((function(t){e(k(t))})).finally(e({type:"LOADING",payload:!1}))}catch(t){e(k(t))}finally{e({type:"LOADING",payload:!1})}}),1e3),e(t)}else e(t)}}},function(e){return function(t){return function(a){if("MAKE_PAYMENT"===a.type){e.dispatch({type:"LOADING",payload:!0});var n=e.getState().session.jwt,c=ye.verify(n,f);n&&c?setTimeout((function(){Promise.all(a.payload).then((function(t){var a;t.every((function(e){return 200===e.status}))&&e.dispatch((a="POC#".concat(Math.floor(1e5*Math.random()),"#ABC"),function(e){e({type:"PAYMENT_SUCCESS",payload:{id:a,success:!0}}),e({type:"REFRESH"}),e({type:"CHECK_OUT"}),e({type:"LOCAL_CART_UPDATE"})}))})).catch((function(t){return e.dispatch(le(t))})).finally(e.dispatch({type:"LOADING",payload:!1}))}),2e3):(e.dispatch(le("Server Authentication Failed")),e.dispatch({type:"LOADING",payload:!1}))}t(a)}}},function(e){return function(t){return function(a){if("LOGIN"===a.type){t({type:"LOADING",payload:!0});var n=ve(a.payload),c=n.jwt,r=n.user;Ee("session",{jwt:c,user:r,isLoggedIn:!0}),a.payload={jwt:c,user:r},t({type:"LOADING",payload:!1}),e.dispatch(ee("Welcom "+r))}"LOGOUT"===a.type&&(t({type:"LOADING",payload:!0}),setTimeout((function(){var a=fe.session;Ee("session",Object(X.a)(Object(X.a)({},a),{},{isLoggedIn:!1})),t({type:"LOADING",payload:!1}),e.dispatch(ee("Logged out Successful"))}),1500)),t(a)}}},function(e){return function(t){return function(a){"LOCAL_CART_UPDATE"===a.type&&Ee("cartItems",e.getState().cart.cartItems),"BOOT_LOCAL"===a.type&&t({type:"INITILISE_APP",payload:fe}),t(a)}}},function(e){return function(e){return function(t){"ERROR"!==t.type?e(t):e({type:"NOTIFICATION",payload:{type:"ERROR",message:t.payload}})}}}],be=Object(de.d)(Object(de.c)(ge),Ne,de.a.apply(void 0,Oe));l.a.render(c.a.createElement(i.a,{store:be},c.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[144,1,2]]]);
//# sourceMappingURL=main.cc5b6042.chunk.js.map